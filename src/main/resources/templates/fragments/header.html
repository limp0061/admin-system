<!DOCTYPE html>
<html
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<header class="flex items-center gap-2 w-full h-[70px] px-5 shadow-lg">
    <!-- Page Title -->
    <div id="page-title" class="flex-1 font-semibold shrink-0 whitespace-nowrap"></div>

    <!-- Login User Profile 및 Login Info  -->
    <!-- TODO:: 다크모드 적용을 위해 dark 설정 후 색 색 정해서 수정 -->
    <div class="flex-1 flex justify-end">
        <div class="flex items-center">
            <button type="button" data-theme="dark" class="dark:hidden p-2 hover:bg-gray-100 rounded-lg transition">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                     stroke="currentColor" class="size-5">
                    <path stroke-linecap="round" stroke-linejoin="round"
                          d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"/>
                </svg>
            </button>
            <button type="button" data-theme="light"
                    class="hidden dark:block p-2 hover:bg-slate-700 rounded-lg transition text-yellow-400">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                     stroke="currentColor" class="size-5">
                    <path stroke-linecap="round" stroke-linejoin="round"
                          d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"/>
                </svg>
            </button>
            <div class="relative">
                <button type="button" class="hover:bg-gray-100 p-2 rounded-lg transition"
                        id="notificationBtn"
                        onclick="notificationToggle(this)">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                         stroke="currentColor" class="size-5">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"/>
                    </svg>
                </button>
                <span class="absolute bottom-1 right-0.5 h-4 w-4 items-center justify-center
                 rounded-full bg-red-500 font-bold text-[10px] text-white leading-none hidden hover:cursor-pointer pointer-events-none"
                      id="badgeCount"></span>
                <div id="notificationDropdown"
                     class="btn-notification absolute flex-col gap-2 w-72 top-full left-1/2 -translate-x-1/2 bg-gray-50 p-3 border mt-2 rounded-md shadow-xl z-50 hidden">
                    <div class="flex flex-col">
                        <div class="flex items-center border-b h-10">
                            <button class="btn-tab w-full h-full border-b-2 border-black font-bold"
                                    data-tab-type="ALARM"
                                    onClick="changeTab('ALARM')">
                                알림
                            </button>
                            <button class="btn-tab w-full h-full text-gray-600"
                                    data-tab-type="NOTICE"
                                    onClick="changeTab('NOTICE')">
                                공지
                            </button>
                        </div>
                        <div class="noti-header flex items-center justify-end py-2 px-5 bg-gray-50 border-b border-gray-100 mb-1">
                            <button id="btnReadAll" onclick="readAllNotification()"
                                    class="text-gray-500 text-[10px] font-medium cursor-pointer hover:text-blue-500">
                                전체 읽음
                            </button>

                            <button id="btnViewAll" onclick="openUserNoticeModal()"
                                    class="text-gray-500 text-[10px] font-medium cursor-pointer hover:text-blue-500 hidden">
                                전체보기 >
                            </button>
                        </div>
                        <div class="notification-list flex flex-col overflow-y-auto h-80 gap-2"></div>
                    </div>
                </div>
            </div>
            <button type="button" class="p-2 hover:bg-gray-100 rounded-lg transition">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                     stroke="currentColor" class="size-5">
                    <path stroke-linecap="round" stroke-linejoin="round"
                          d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                </svg>
            </button>
            <form th:action="@{/logout}" method="post" class="inline" sec:authorize="isAuthenticated()">
                <button type="submit" class="p-2 hover:bg-gray-100 rounded-lg transition">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                         stroke-linejoin="round"
                         class="icon icon-tabler icon-tabler-logout group-hover:text-red-500">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"/>
                        <path d="M9 12h12l-3 -3"/>
                        <path d="M18 15l3 -3"/>
                    </svg>
                </button>
            </form>
            <button id="userInfo" class="flex items-center gap-2 ml-2 pl-3 border-l border-gray-200"
                    data-login-user-id="1">
                <span class="text-sm font-medium" sec:authorize="isAuthenticated()"
                      sec:authentication="principal.accountDto.username"></span>
                <i class="icon-down-arrow"></i>
            </button>
        </div>
    </div>
</header>
</html>