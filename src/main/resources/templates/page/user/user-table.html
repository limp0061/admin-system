<div th:fragment="pageTable(pageType)" id="page-table" class="w-full px-5 flex-1">
    <table class="table min-w-[900px]">
        <thead class="border border-b-2">
        <tr>
            <th class="w-12">
                <div class="flex items-center justify-center">
                    <input type="checkbox" data-action="checkToggle" class="size-3 check-all">
                </div>
            </th>
            <th class="w-[15%]">
                <div class="flex items-center justify-between gap-2">
                    <span>이름</span>
                </div>
            </th>
            <th class="flex-1 min-w-0">
                <div class="flex items-center justify-between gap-2">
                    <span>이메일</span>
                </div>
            </th>
            <th class="w-[10%]">
                <div class="flex items-center justify-between gap-2">
                    <span>사번</span>
                </div>
            </th>
            <th class="w-[15%]">
                <div class="flex items-center justify-between gap-2">
                    <span>부서</span>
                </div>
            </th>
            <th class="w-[15%]">
                <div class="flex items-center justify-between gap-2 whitespace-nowrap">
                    <span>계정 상태</span>
                    <div th:if="${pageType.name() =='LIST'}"
                         class="relative">
                        <button
                                type="button"
                                class="filter-btn p-1 rounded hover:bg-gray-100 ignore-close"
                                data-action="btnDropDown"
                                data-key="userStatus"
                                aria-label="정렬">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                 stroke="currentColor" class="size-4">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"/>
                            </svg>
                        </button>
                        <div class="btn-dropDown hidden absolute z-50 flex-col top-full left-1/2 -translate-x-1/2 mt-1 border border-gray-300 rounded shadow-md whitespace-nowrap">
                            <a onClick="filterStatus('')"
                               class="btn btn-status w-full justify-center hover:bg-gray-100 hover:cursor-pointer">
                                전체
                            </a>
                            <a onClick="filterStatus('ACTIVE')"
                               class="btn btn-status w-full justify-center hover:bg-emerald-50 hover:cursor-pointer">
                                정상
                            </a>
                            <a onClick="filterStatus('BLOCKED')"
                               class="btn btn-status w-full justify-center hover:bg-red-50 hover:cursor-pointer">
                                중지
                            </a>
                            <a onClick="filterStatus('LOCKED')"
                               class="btn btn-status w-full justify-center hover:bg-black-50 hover:cursor-pointer">
                                잠금
                            </a>
                        </div>
                    </div>
                </div>
            </th>
            <th class="w-[20%]">
                <div class="flex items-center justify-between gap-2">
                    <th:block th:if="${pageType.name() =='LIST'}">
                        <span>수정 일시</span>
                        <button
                                type="button"
                                class="sort-btn p-1 rounded hover:bg-gray-100"
                                data-action="sort"
                                data-sort="updatedAt"
                                th:data-order="${list.direction}"
                                aria-label="정렬">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                 stroke-width="1.5" stroke="currentColor"
                                 class="h-4 w-4 inline-block transform transition-transform duration-200"
                                 th:classappend="${list.sortBy == 'updatedAt' and list.direction == 'ASC'} ? 'rotate-180' : ''">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
                            </svg>
                        </button>
                    </th:block>
                    <th:block th:if="${pageType.name() =='APPROVAL'}">
                        <span>생성 일시</span>
                        <button
                                type="button"
                                class="sort-btn p-1 rounded hover:bg-gray-100"
                                data-action="sort"
                                data-sort="createdAt"
                                th:data-order="${list.direction}"
                                aria-label="정렬">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                 stroke-width="1.5" stroke="currentColor"
                                 class="h-4 w-4 inline-block transform transition-transform duration-200"
                                 th:classappend="${list.sortBy == 'createdAt' and list.direction == 'ASC'} ? 'rotate-180' : ''">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
                            </svg>
                        </button>
                    </th:block>
                    <th:block th:if="${pageType.name() =='DELETED'}">
                        <span>삭제 일시</span>
                        <button
                                type="button"
                                class="sort-btn p-1 rounded hover:bg-gray-100"
                                data-action="sort"
                                data-sort="deletedAt"
                                th:data-order="${list.direction}"
                                aria-label="정렬">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                 stroke-width="1.5" stroke="currentColor"
                                 class="h-4 w-4 inline-block transform transition-transform duration-200"
                                 th:classappend="${list.sortBy == 'deletedAt' and list.direction == 'ASC'} ? 'rotate-180' : ''">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
                            </svg>
                        </button>
                    </th:block>
                </div>
            </th>
        </tr>
        </thead>
        <tbody th:if="${#lists.isEmpty(list.content)}">
        <tr>
            <td colspan="6" class="py-16 text-center text-gray-400">
                등록된 사용자가 없습니다.
            </td>
        </tr>
        </tbody>

        <tbody th:unless="${#lists.isEmpty(list.content)}">
        <tr th:each="item : ${list.content}"
            th:data-id="${item.id}"
            class="hover:bg-gray-50 hover:cursor-pointer"
            data-action="clickRow">
            <td class="text-center align-middle">
                <input type="checkbox"
                       class="size-3 check-box"
                       th:value="${item.id}">
            </td>
            <td th:text="${item.name}"></td>
            <td class="truncate max-w-[200px]" th:text="${item.emailId}" th:title="${item.emailId}"></td>
            <td th:text="${item.userCode}"></td>
            <td th:data-dept-id="${item.deptId}" th:text="${item.deptName}"></td>
            <td th:text="${item.userStatus.label}"></td>
            <td th:text="${#temporals.format(item.updatedAt, 'yyyy-MM-dd HH:mm')}">
            </td>
        </tr>
        </tbody>
    </table>
</div>